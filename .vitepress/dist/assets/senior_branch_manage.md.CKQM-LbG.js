import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.B1Kupp1q.js";const p="data:image/png;base64,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",h="/git/assets/11.DqOP6Bd4.png",c=JSON.parse('{"title":"分支管理策略","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"senior/branch/manage.md","filePath":"senior/branch/manage.md"}'),e={name:"senior/branch/manage.md"};function l(k,s,d,F,g,r){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="分支管理策略" tabindex="-1">分支管理策略 <a class="header-anchor" href="#分支管理策略" aria-label="Permalink to &quot;分支管理策略&quot;">​</a></h1><p>通常，合并分支时，如果可能，Git 会用 Fast forward 模式，但这种模式下，删除分支后，会丢掉分支信息。</p><p>如果要强制禁用 Fast forward 模式，Git 就会在 merge 时生成一个新的 commit，这样，从分支历史上就可以看出分支信息。</p><p>下面我们实战一下 <code>--no-ff</code> 方式的 <code>git merge</code>。</p><p>首先，仍然创建并切换 dev 分支：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switched</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dev&#39;</span></span></code></pre></div><p>修改 readme.txt 文件，并提交一个新的 commit：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> readme.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;add merge&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[dev f52c633] add merge</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> insertion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>现在，我们切换回 master：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> master</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switched</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;master&#39;</span></span></code></pre></div><p>准备合并 dev 分支，请注意 <code>--no-ff</code> 参数，表示禁用 Fast forward：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-ff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;merge with no-ff&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> made</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;recursive&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> strategy.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readme.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> insertion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>合并后，我们用 <code>git log</code> 看看分支历史：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --graph</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --pretty=oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --abbrev-commit</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   e1e9c68 (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HEAD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> master</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) merge with no-ff</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f52c633</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (dev) add merge</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   cf810e4 conflict fixed</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span></code></pre></div><p>可以看到，不使用 Fast forward 模式，merge 后就像这样：</p><p><img src="`+p+'" alt="10"></p><p>在实际开发中，我们应该按照几个基本原则进行分支管理。</p><p>首先，master 分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活。</p><p>那在哪干活呢？干活都在 dev 分支上，也就是说，dev 分支是不稳定的，到某个时候，比如 1.0 版本发布时，再把 dev 分支合并到 master 上，在 master 分支发布 1.0 版本。</p><p>你和你的小伙伴们每个人都在 dev 分支上干活，每个人都有自己的分支，时不时地往 dev 分支上合并就可以了。所以，团队合作的分支看起来像这样：</p><p><img src="'+h+'" alt="11"></p><div class="warning custom-block"><p class="custom-block-title">小结</p><p>Git 分支十分强大，在团队开发中应该充分应用。</p><p>合并分支时，加上 <code>--no-ff</code> 参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而 Fast forward 合并就看不出来曾经做过合并。</p></div>',22)]))}const C=i(e,[["render",l]]);export{c as __pageData,C as default};
